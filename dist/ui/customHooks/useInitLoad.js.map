{"version":3,"file":"useInitLoad.js","names":["useHasInternet","useHasLatestInArchive","useEffect","useInitLoad","ctrDispatch","loadState","hasInternet","hasLatestInArchive","dateLatestPub","type"],"sources":["../../../src/ui/customHooks/useInitLoad.js"],"sourcesContent":["import {useHasInternet, useHasLatestInArchive } from './index.js'\nimport {useEffect} from 'react'\n\nexport function useInitLoad(ctrDispatch, loadState) {\n  const hasInternet = useHasInternet()\n  const {hasLatestInArchive, dateLatestPub} = useHasLatestInArchive(hasInternet, loadState)\n\n  useEffect(() =>  {\n    if (hasInternet === true) {\n      if (hasLatestInArchive === true) {\n        ctrDispatch({type: \"getArchiveMostRecent\"})\n\n      } else if (hasLatestInArchive === false) {\n        ctrDispatch({type: \"fetchLatest\"})\n\n      } else if (hasLatestInArchive === \"loading\") {\n        ctrDispatch({type: \"loading\"}) \n      }\n\n    } else if (hasInternet === false) { //no internet\n      ctrDispatch({type: \"getArchiveMostRecent\"})\n\n    } else if (hasInternet === \"loading\") {\n      ctrDispatch({type: \"loading\"}) \n    } \n\n  }, [hasInternet, hasLatestInArchive])\n  return [dateLatestPub, hasInternet, hasLatestInArchive]  \n}\n\n\n"],"mappings":"AAAA,SAAQA,cAAc,EAAEC,qBAAqB,QAAQ,YAAY;AACjE,SAAQC,SAAS,QAAO,OAAO;AAE/B,OAAO,SAASC,WAAW,CAACC,WAAW,EAAEC,SAAS,EAAE;EAClD,IAAMC,WAAW,GAAGN,cAAc,EAAE;EACpC,4BAA4CC,qBAAqB,CAACK,WAAW,EAAED,SAAS,CAAC;IAAlFE,kBAAkB,yBAAlBA,kBAAkB;IAAEC,aAAa,yBAAbA,aAAa;EAExCN,SAAS,CAAC,YAAO;IACf,IAAII,WAAW,KAAK,IAAI,EAAE;MACxB,IAAIC,kBAAkB,KAAK,IAAI,EAAE;QAC/BH,WAAW,CAAC;UAACK,IAAI,EAAE;QAAsB,CAAC,CAAC;MAE7C,CAAC,MAAM,IAAIF,kBAAkB,KAAK,KAAK,EAAE;QACvCH,WAAW,CAAC;UAACK,IAAI,EAAE;QAAa,CAAC,CAAC;MAEpC,CAAC,MAAM,IAAIF,kBAAkB,KAAK,SAAS,EAAE;QAC3CH,WAAW,CAAC;UAACK,IAAI,EAAE;QAAS,CAAC,CAAC;MAChC;IAEF,CAAC,MAAM,IAAIH,WAAW,KAAK,KAAK,EAAE;MAAE;MAClCF,WAAW,CAAC;QAACK,IAAI,EAAE;MAAsB,CAAC,CAAC;IAE7C,CAAC,MAAM,IAAIH,WAAW,KAAK,SAAS,EAAE;MACpCF,WAAW,CAAC;QAACK,IAAI,EAAE;MAAS,CAAC,CAAC;IAChC;EAEF,CAAC,EAAE,CAACH,WAAW,EAAEC,kBAAkB,CAAC,CAAC;EACrC,OAAO,CAACC,aAAa,EAAEF,WAAW,EAAEC,kBAAkB,CAAC;AACzD"}